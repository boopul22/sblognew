var z=Object.defineProperty,F=Object.defineProperties;var T=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var V=(r,o,a)=>o in r?z(r,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[o]=a,w=(r,o)=>{for(var a in o||(o={}))G.call(o,a)&&V(r,a,o[a]);if(U)for(var a of U(o))q.call(o,a)&&V(r,a,o[a]);return r},C=(r,o)=>F(r,T(o));var S=(r,o,a)=>new Promise((g,c)=>{var h=m=>{try{d(a.next(m))}catch(f){c(f)}},v=m=>{try{d(a.throw(m))}catch(f){c(f)}},d=m=>m.done?g(m.value):Promise.resolve(m.value).then(h,v);d((a=a.apply(r,o)).next())});import{r as t,c as B,j as e}from"./react-vendor-DV45Ikwi.js";import{c as J}from"./utils-BE2o5J05.js";import{S as K,H as W,O as X,a as Y}from"./components-BPkeUS7W.js";import"./vendor-B0T_4ch3.js";import"./supabase-vendor-CPNJAKHt.js";const Z=({searchQuery:r})=>{const o=B(),[a,g]=t.useState([]),[c,h]=t.useState(!0),[v,d]=t.useState(null),[m,f]=t.useState(!0),[k,D]=t.useState(0),[N,L]=t.useState("all"),[Q,P]=t.useState({}),j=12;t.useEffect(()=>{x(!0)},[r,N]);const $=t.useCallback(s=>{L(s),x(!0)},[]);t.useCallback((s,i,u)=>{P(n=>C(w({},n),{[s]:u}))},[]);const x=t.useCallback((s=!1)=>S(null,null,function*(){try{h(!0),d(null);let i=yield J();if(N!=="all"&&(i=i.filter(l=>{var p;return((p=l.categories)==null?void 0:p.slug)===N})),r&&r.trim()){const l=r.toLowerCase();i=i.filter(p=>{var E,H;return p.title.toLowerCase().includes(l)||((E=p.excerpt)==null?void 0:E.toLowerCase().includes(l))||((H=p.content)==null?void 0:H.toLowerCase().includes(l))})}const n=(s?0:k)*j,b=n+j,_=i.slice(n,b),O=b<i.length;s?(g(_),D(1)):(g(l=>[...l,..._]),D(l=>l+1)),f(O)}catch(i){d("Failed to load posts")}finally{h(!1)}}),[k,r,N]);if(c&&a.length===0)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV(K,{type:"post",count:6},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:90,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:89,columnNumber:7},void 0);if(v)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"error",children:v},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:98,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:97,columnNumber:7},void 0);if(a.length===0&&!c)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:r?`No posts found for "${r}"`:"No posts available"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:106,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:105,columnNumber:7},void 0);const R=s=>new Date(s).toLocaleDateString("hi-IN",{year:"numeric",month:"long",day:"numeric"}),y=()=>Math.floor(Math.random()*500)+50,A=s=>{const i=y();alert(`à¤¶à¤¾à¤¯à¤°à¥€ à¤•à¥‹ ${i} à¤²à¤¾à¤‡à¤• à¤®à¤¿à¤²à¥‡!`)},I=s=>{var u;const i=`${s.title}

${s.excerpt}

- ${((u=s.users)==null?void 0:u.display_name)||"Admin"}

à¤¶à¤¾à¤¯à¤°à¥€ à¤¬à¥à¤²à¥‰à¤— à¤¸à¥‡ à¤¸à¤¾à¤à¤¾ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾`;navigator.share?navigator.share({title:s.title,text:i,url:window.location.href}).catch(n=>{}):navigator.clipboard.writeText(i).then(()=>{alert("à¤¶à¤¾à¤¯à¤°à¥€ à¤•à¥à¤²à¤¿à¤ªà¤¬à¥‹à¤°à¥à¤¡ à¤®à¥‡à¤‚ à¤•à¥‰à¤ªà¥€ à¤¹à¥‹ à¤—à¤ˆ!")}).catch(()=>{alert(`à¤¶à¤¾à¤¯à¤°à¥€ à¤¸à¤¾à¤à¤¾ à¤•à¤°à¥‡à¤‚:

${i}`)})},M=s=>{o(`/${s.slug}`)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(W,{},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:156,columnNumber:7},void 0),e.jsxDEV("main",{className:"main-content",children:e.jsxDEV("div",{className:"container container--full desktop-full-width",children:e.jsxDEV("div",{className:"content-layout",children:[e.jsxDEV("div",{className:"shayari-grid",children:[e.jsxDEV("h3",{className:"section-title",children:"Latest à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:164,columnNumber:15},void 0),e.jsxDEV("div",{className:"cards-grid",id:"shayariGrid",children:a.length>0?a.map(s=>{var i,u,n,b;return e.jsxDEV("div",{className:"shayari-card",children:[s.featured_image_url?e.jsxDEV("div",{className:"card-image",children:e.jsxDEV(X,{src:s.featured_image_url,alt:s.title,width:400,height:200,lazy:!0,priority:!1,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 400px",aspectRatio:"2/1",style:{width:"100%",height:"auto",borderRadius:"8px",marginBottom:"15px"}},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:172,columnNumber:27},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:171,columnNumber:25},void 0):e.jsxDEV("div",{className:"card-image-placeholder"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:190,columnNumber:25},void 0),e.jsxDEV("h3",{className:"card-title",children:s.title},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:192,columnNumber:23},void 0),e.jsxDEV("p",{className:"card-author",children:["à¤²à¥‡à¤–à¤•: ",((i=s.users)==null?void 0:i.display_name)||"Admin"]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:193,columnNumber:23},void 0),e.jsxDEV("p",{className:"card-excerpt",children:s.excerpt},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:194,columnNumber:23},void 0),e.jsxDEV("div",{className:"card-meta",children:[e.jsxDEV("span",{className:"card-category",children:((b=(n=(u=s.post_categories)==null?void 0:u[0])==null?void 0:n.categories)==null?void 0:b.name)||"à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:196,columnNumber:25},void 0),e.jsxDEV("span",{className:"card-date",children:R(s.published_at)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:199,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:195,columnNumber:23},void 0),e.jsxDEV("div",{className:"card-actions",children:[e.jsxDEV("div",{className:"card-engagement",children:[e.jsxDEV("button",{className:"like-count",onClick:()=>A(),children:["â¤ï¸ ",e.jsxDEV("span",{children:y()},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:207,columnNumber:32},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:203,columnNumber:27},void 0),e.jsxDEV("button",{className:"share-btn",onClick:()=>I(s),children:"ðŸ“¤ Share"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:209,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:202,columnNumber:25},void 0),e.jsxDEV("button",{className:"btn btn--sm btn--primary",onClick:()=>M(s),children:"à¤ªà¤¢à¤¼à¥‡à¤‚"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:216,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:201,columnNumber:23},void 0)]},s.id,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:169,columnNumber:21},void 0)}):e.jsxDEV("div",{className:"no-results",children:[e.jsxDEV("h3",{children:"à¤•à¥‹à¤ˆ à¤¶à¤¾à¤¯à¤°à¥€ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:227,columnNumber:21},void 0),e.jsxDEV("p",{children:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¥€ à¤–à¥‹à¤œ à¤¯à¤¾ à¤«à¤¼à¤¿à¤²à¥à¤Ÿà¤° à¤¬à¤¦à¤²à¥‡à¤‚"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:228,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:226,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:166,columnNumber:15},void 0),m&&e.jsxDEV("div",{className:"load-more-container",children:e.jsxDEV("button",{onClick:()=>x(!1),disabled:c,className:"btn btn--outline",children:c?"Loading...":"Load More à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:236,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:235,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:163,columnNumber:13},void 0),e.jsxDEV(Y,{selectedCategory:N,onCategoryChange:$},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:248,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:161,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:160,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:159,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/features/homepage/pages/Home.jsx",lineNumber:154,columnNumber:5},void 0)},te=t.memo(Z);export{te as default};
