var y=(m,t,u)=>new Promise((c,p)=>{var f=r=>{try{N(u.next(r))}catch(d){p(d)}},v=r=>{try{N(u.throw(r))}catch(d){p(d)}},N=r=>r.done?c(r.value):Promise.resolve(r.value).then(f,v);N((u=u.apply(m,t)).next())});import{r as a,j as e}from"./react-vendor-QWuLYCV5.js";import{z as C}from"./utils-CyCRfmWG.js";import{S as $,H as P,a as L}from"./components-DUxgLBbL.js";import"./vendor-CJchTyIO.js";import"./supabase-vendor-DEo8APS7.js";const w=({searchQuery:m})=>{const[t,u]=a.useState([]),[c,p]=a.useState(!0),[f,v]=a.useState(null),[N,r]=a.useState(!0),[d,D]=a.useState(0),[b,_]=a.useState("all"),E=12;a.useEffect(()=>{x(!0)},[m,b]);const H=a.useCallback(s=>{_(s),x(!0)},[]),x=a.useCallback((s=!1)=>y(null,null,function*(){try{p(!0),v(null);const n=yield C(s?0:d,E,m,b==="all"?null:b),{posts:o,hasMore:k}=n;s?(u(o),D(1)):(u(g=>[...g,...o]),D(g=>g+1)),r(k)}catch(i){v("Failed to load posts")}finally{p(!1)}}),[d,m,b]);if(c&&t.length===0)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV($,{type:"post",count:6},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:56,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:55,columnNumber:7},void 0);if(f)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"error",children:f},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:64,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:63,columnNumber:7},void 0);if(t.length===0&&!c)return e.jsxDEV("div",{className:"main-grid",children:e.jsxDEV("div",{className:"loading",children:m?`No posts found for "${m}"`:"No posts available"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:72,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:71,columnNumber:7},void 0);const j=s=>new Date(s).toLocaleDateString("hi-IN",{year:"numeric",month:"long",day:"numeric"}),h=()=>Math.floor(Math.random()*500)+50,U=s=>{const i=h();alert(`à¤¶à¤¾à¤¯à¤°à¥€ à¤•à¥‹ ${i} à¤²à¤¾à¤‡à¤• à¤®à¤¿à¤²à¥‡!`)},V=s=>{var l;const i=`${s.title}

${s.excerpt}

- ${((l=s.users)==null?void 0:l.display_name)||"Admin"}

à¤¶à¤¾à¤¯à¤°à¥€ à¤¬à¥à¤²à¥‰à¤— à¤¸à¥‡ à¤¸à¤¾à¤à¤¾ à¤•à¤¿à¤¯à¤¾ à¤—à¤¯à¤¾`;navigator.share?navigator.share({title:s.title,text:i,url:window.location.href}).catch(n=>{}):navigator.clipboard.writeText(i).then(()=>{alert("à¤¶à¤¾à¤¯à¤°à¥€ à¤•à¥à¤²à¤¿à¤ªà¤¬à¥‹à¤°à¥à¤¡ à¤®à¥‡à¤‚ à¤•à¥‰à¤ªà¥€ à¤¹à¥‹ à¤—à¤ˆ!")}).catch(()=>{alert(`à¤¶à¤¾à¤¯à¤°à¥€ à¤¸à¤¾à¤à¤¾ à¤•à¤°à¥‡à¤‚:

${i}`)})},S=s=>{var l,n,o,k;const i=((o=(n=(l=s.post_categories)==null?void 0:l[0])==null?void 0:n.categories)==null?void 0:o.name)||"à¤¶à¤¾à¤¯à¤°à¥€";alert(`${s.title}

${s.content}

- ${((k=s.users)==null?void 0:k.display_name)||"Admin"}

à¤•à¥ˆà¤Ÿà¥‡à¤—à¤°à¥€: ${i}
à¤¤à¤¾à¤°à¥€à¤–: ${j(s.published_at)}`)};return e.jsxDEV(e.Fragment,{children:[e.jsxDEV(P,{},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:122,columnNumber:7},void 0),e.jsxDEV("main",{className:"main-content",children:e.jsxDEV("div",{className:"container",children:e.jsxDEV("div",{className:"content-layout",children:[e.jsxDEV("div",{className:"shayari-grid",children:[e.jsxDEV("h3",{className:"section-title",children:"Latest à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:130,columnNumber:15},void 0),e.jsxDEV("div",{className:"cards-grid",id:"shayariGrid",children:t.length>0?t.map(s=>{var i,l,n,o;return e.jsxDEV("div",{className:"shayari-card",children:[e.jsxDEV("div",{className:"card-image-placeholder"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:136,columnNumber:23},void 0),e.jsxDEV("h3",{className:"card-title",children:s.title},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:137,columnNumber:23},void 0),e.jsxDEV("p",{className:"card-author",children:["à¤²à¥‡à¤–à¤•: ",((i=s.users)==null?void 0:i.display_name)||"Admin"]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:138,columnNumber:23},void 0),e.jsxDEV("p",{className:"card-excerpt",children:s.excerpt},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:139,columnNumber:23},void 0),e.jsxDEV("div",{className:"card-meta",children:[e.jsxDEV("span",{className:"card-category",children:((o=(n=(l=s.post_categories)==null?void 0:l[0])==null?void 0:n.categories)==null?void 0:o.name)||"à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:141,columnNumber:25},void 0),e.jsxDEV("span",{className:"card-date",children:j(s.published_at)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:144,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:140,columnNumber:23},void 0),e.jsxDEV("div",{className:"card-actions",children:[e.jsxDEV("div",{className:"card-engagement",children:[e.jsxDEV("button",{className:"like-count",onClick:()=>U(),children:["â¤ï¸ ",e.jsxDEV("span",{children:h()},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:152,columnNumber:32},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:148,columnNumber:27},void 0),e.jsxDEV("button",{className:"share-btn",onClick:()=>V(s),children:"ðŸ“¤ Share"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:154,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:147,columnNumber:25},void 0),e.jsxDEV("button",{className:"btn btn--sm btn--primary",onClick:()=>S(s),children:"à¤ªà¤¢à¤¼à¥‡à¤‚"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:161,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:146,columnNumber:23},void 0)]},s.id,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:135,columnNumber:21},void 0)}):e.jsxDEV("div",{className:"no-results",children:[e.jsxDEV("h3",{children:"à¤•à¥‹à¤ˆ à¤¶à¤¾à¤¯à¤°à¥€ à¤¨à¤¹à¥€à¤‚ à¤®à¤¿à¤²à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:172,columnNumber:21},void 0),e.jsxDEV("p",{children:"à¤•à¥ƒà¤ªà¤¯à¤¾ à¤…à¤ªà¤¨à¥€ à¤–à¥‹à¤œ à¤¯à¤¾ à¤«à¤¼à¤¿à¤²à¥à¤Ÿà¤° à¤¬à¤¦à¤²à¥‡à¤‚"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:173,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:171,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:132,columnNumber:15},void 0),N&&e.jsxDEV("div",{className:"load-more-container",children:e.jsxDEV("button",{onClick:()=>x(!1),disabled:c,className:"btn btn--outline",children:c?"Loading...":"Load More à¤¶à¤¾à¤¯à¤°à¥€"},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:181,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:180,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:129,columnNumber:13},void 0),e.jsxDEV(L,{selectedCategory:b,onCategoryChange:H},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:193,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:127,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:126,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:125,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/bipulkumar/Desktop/site_v2 copy/src/pages/Home.jsx",lineNumber:120,columnNumber:5},void 0)},z=a.memo(w);export{z as default};
